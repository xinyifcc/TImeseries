# TImeseries
AR MA ARMA ARIMA  TIMESERIES MODEL https://uqer.io/community/share/57988677228e5ba28e05faff
参考文献 http://nipy.bic.berkeley.edu/nightly/statsmodels/doc/html/tsa.html

### 出MA(q)模型的形式： 
rt=c0+at−θ1at−1−⋯−θqat−q
c0为一个常数项。这里的at,是AR模型t时刻的扰动或者说新息，则可以发现，该模型，使用了过去q个时期的随机干扰或预测误差来线性表达当前的预测值。

3.1 MA模型的性质

3.1.1 平稳性

MA模型总是弱平稳的，因为他们是白噪声序列（残差序列）的有限线性组合。因此，根据弱平稳的性质可以得出两个结论：
E(rt)=c0 Var(rt)=(1+θ^2_1+θ^2_2+⋯+θ^2_q)σ^2_a
 

3.1.2 自相关函数

对q阶的MA模型，其自相关函数ACF总是q步截尾的。 因此MA(q)序列只与其前q个延迟值线性相关，从而它是一个“有限记忆”的模型。

这一点可以用来确定模型的阶次，后面会介绍。

3.1.3 可逆性

当满足可逆条件的时候，MA(q)模型可以改写为AR(p)模型。这里不进行推导，给出1阶和2阶MA的可逆性条件。

1阶：  |θ1|<1
2阶：  |θ2|<1,θ1+θ2<1
 

3.2 MA的阶次判定

我们通常利用上面介绍的第二条性质：MA(q)模型的ACF函数q步截尾来判断模型阶次。

### ARMA模型

在有些应用中，我们需要高阶的AR或MA模型才能充分地描述数据的动态结构，这样问题会变得很繁琐。为了克服这个困难，提出了自回归滑动平均(ARMA)模型。

基本思想是把AR和MA模型结合在一起，使所使用的参数个数保持很小。

模型的形式为：
rt=ϕ0+∑i=1pϕirt−i+at+∑i=1qθiat−i
其中，{at}为白噪声序列，p和q都是非负整数。AR和MA模型都是ARMA(p,q)的特殊形式。

利用向后推移算子B，上述模型可写成: 
(1−ϕ1B−⋯−ϕpBp)rt=ϕ0+(1−θ1B−⋯−θqBq)at
（后移算子B，即上一时刻）

这时候我们求rt的期望，得到：
E(rt)=ϕ01−ϕ1−⋯−ϕp
和上期我们的AR模型一毛一样。因此有着相同的特征方程：
1−ϕ1x−ϕ2x2−⋯−ϕpxp=0
该方程所有解的倒数称为该模型的特征根，如果所有的特征根的模都小于1，则该ARMA模型是平稳的。

有一点很关键：ARMA模型的应用对象应该为平稳序列！ 我们下面的步骤都是建立在假设原序列平稳的条件下的~ 

4.1 识别ARMA模型阶次

4.1.1 PACF、ACF 判断模型阶次

我们通过观察PACF和ACF截尾，分别判断p、q的值。(限定滞后阶数50)
